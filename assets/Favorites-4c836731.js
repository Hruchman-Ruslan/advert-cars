import{r as o,j as a}from"./index-f2032bc6.js";import{C as P,L,a as w,M as y,P as E}from"./Modal-8791525d.js";import{S as b}from"./Section.styled-041f7201.js";const c=()=>{const[l,m]=o.useState([]),[d,n]=o.useState([]),[f,p]=o.useState([]),[S,g]=o.useState([]),[x,i]=o.useState(!1),[u,M]=o.useState(null),h=t=>{M(t),i(!0)},C=()=>{i(!1)};o.useEffect(()=>{(()=>{try{const e=JSON.parse(localStorage.getItem("Cars"))||[];m(s=>[...s,...e]),n(s=>[...s,...e]);const r=[...new Set(e.map(s=>s.make))];p(r);const F=[...new Set(e.map(s=>s.rentalPrice))];g(F)}catch(e){console.error("Error fetching data from local storage:",e)}})()},[]);const j=t=>{let e=[...l];t.brand&&(e=e.filter(r=>r.make===t.brand)),t.rentalPrice&&(e=e.filter(r=>r.rentalPrice===t.rentalPrice)),t.minMileage&&(e=e.filter(r=>r.mileage>=t.minMileage)),t.maxMileage&&(e=e.filter(r=>r.mileage<=t.maxMileage)),n(e)};return a.jsxs(a.Fragment,{children:[a.jsx(P,{brands:f,prices:S,onFilter:j}),a.jsx(L,{children:d.map(t=>a.jsx(w,{car:t,openModal:()=>h(t),reload:!0},t.id))}),x&&a.jsx(y,{onClose:C,selectedCar:u})]})};c.propTypes={cars:E.array};function B(){return a.jsx(b,{children:a.jsx(c,{})})}export{B as default};
